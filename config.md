## Конфигурирование системы и ПО ##

### Начальная настройка системы ###

Для конфигурирования требуется наличие соединения с Интернет в хостовой
системе.

Загрузить виртуальную машину с `Debian`.

Авторизоваться в системе, введя последовательно логин `root`, а затем
пароль (после запроса).

После авторизации выполнить следующие команды:

	# aptitude install xfce4 xfce4-terminal lightdm gawk git -y
	# service lightdm start

Появляется окно `LightDM`:

![][lightdm]

Следует ввести имя вашей учётной записи (которая была создана при
установке):

![][dmlogin]

На следующем экране запрашивается пароль учётной записи. Следует его
ввести.

![][dmpass]

Загружается XFCE:

![][xfcein]

Для завершения сеанса пользователя, перезагрузки системы или её
выключения после нажатия соответствующей пиктограммы на панели (или
через меню --- пункт "Выйти") следует выбирать соответствующее действие.

![][xfceout]

Например, для выключения виртуальной машины следует выбрать пункт
"Выключить".

![][xfceoff]

Запустить терминал.

Выполнить команды:

	$ git clone https://github.com/AVKorotkov/setupenv
	$ cp setupenv/preuser.sh .
	$ ./preuser.sh

(во второй команде последний символ --- точка).

Это необходимо сделать для предварительной настройки пользовательского
окружения --- данный скрипт:

+ устанавливает нужные права и создаёт нужные каталоги,
+ обновляет git-репозиторий `setupenv` до последней актуальной версии,
+ копирует некоторые файлы в места их назначения,
+ скачивает и установливает IDE `Eclipse`,
+ скачивает `RStudio`.

Далее следует сделать предварительные настройки системы. Это необходимо
делать от имени суперпользователя (`root`). Для выполнения таких
действий нужно получить права суперпользователя. Это можно сделать с
помощью команды `su`:

	$ su -

(имя команды --- `su`, затем пробел, потом символ дефиса). На запрос
пароля ввести пароль `root`, заданный во время установки системы. Для
этого лучше всего открыть дополнительную вкладку терминала (в случае
использования `XFCE Terminal` это можно сделать клавиатурной комбинацией
`<Shift>+<Ctrl>+<T>`; переключаться между вкладками можно комбинациями
`<Ctrl>+<PageUp>` и `<Ctrl>+<PageDown>`).

После получения прав `root` выполнить команды:

	# mv /tmp/sysconf.sh .
	# chown root:root sysconf.sh
	# ./sysconf.sh

(в первой команде последний символ --- точка). Данный скрипт:

+ копирует нужные файлов в места их назначения,
+ выставляет на них необходимые права,
+ настраивает репозитории с ПО,
+ обновляет список пакетов,
+ делает обновление системы,
+ устанавливает последнее ядро и пакеты заголовков,
+ устанавливает ПО,
+ устанавливает дополнительного ПО (по желанию),
+ добавляет пользователя в нужные группы,
+ устанавливает `VirtualBox Guest Additions`.

После выполнения даного скрипта лучше перезагрузить виртуальную машину,
чтобы задействовать установленные `VirtualBox Guest Additions`.

Следующий скрипт --- `userconf.sh` --- должен быть запущен на выполнение
от пользователя:

	$ ./userconf.sh

Он выполняет следующие действия:

+ настройку `MySQL` в `~/.my.cnf`:
	- установку логинов и паролей,
	- установку прав на действия с базами данных.
+ сборку пакета `Oracle JDK`;
+ настройку `~/.bashrc` (пользовательские настройки работы в `bash`).

Наконец, последним выполняется от `root` скрипт `postconf.sh`

	# ./postconf.sh

Этот скрипт:

+ настраивает время,
+ установливает и настраивает `Java`,
+ настраивает `MySQL`.

На этом первоначальную настройку системы можно считать законченной.

[lightdm]: config/config-01.png "Lightdm"
[dmlogin]: config/config-02.png "Lightdm учётная запись"
[dmpass]: config/config-03.png "Lightdm пароль"
[xfcein]: config/config-04.png "XFCE загружен"
[xfceout]: config/config-05.png "XFCE выход"
[xfceoff]: config/config-06.png "XFCE выключение"

### Настройка `MySQL Workbench` и `Eclipse` ###

Запустить на выполнение `MySQL Workbench`. В процессе написания...

Запустить на выполнение `Eclipse`, вызвав из меню `XFCE`. В `Eclipse
выбрать в меню `Help -> Check for Updates`.

![][eclchupd]

`Eclipse` проверяет наличие обновлений установленных компонентов, и при
условии их наличия, скачивает их и устаноавливает.

![][eclupd]

Далее необходимо установить компонент `ERMaster`. Для этого выбрать в
меню `Help -> Install New Software`.

![][eclnew]

Нажать кнопку `Add...`

![][ecladdsel]

Появится окно для добавления нового репозитория.

![][ecladdrepo]

В поле `Name` указать `ERMaster`, в поле `Location` --- его
[адрес][ermaster], нажать `OK`.

[ermaster]: http://ermaster.sourceforge.net/update-site/ "Репозиторий ERMaster"

![][eclrepoloc]

`Eclipse` проверяет наличие компонентов по указанному адресу.

![][eclavail]

После того как информайия об имеющихся компонентах будет загружена,
следует нажать кнопку `Selact All`, потом `Next`.

![][eclselsoft]

Появляется следующее окно с детальной информацией об устанавливаемых
компонентах. Нажать кнопку `Next`.

![][eclinstdet]

Принять условия лицензии, выбрав значение переключателя
`I accept the terms of the license agreement`. Нажать кнопку `Finish`.

![][ecllic]

Появляется окно с информацией об установке компонент.

![][eclinst]

В окне `Security Warning` появляется информация об установке
неподписанного содержимого. Подтвердить согласие на установку, нажав
кнопку `OK`.

![][eclwarn]

После установки ПО появляется сообщение о том, что необходимо
перезапустить `Eclipse` для того, чтобы изменения вступили в силу.
Нажать `Yes`.

![][eclrest]

[eclchupd]: eclipse/01.png "Check for Updates"
[eclupd]: eclipse/02.png "Updates"
[eclnew]: eclipse/03.png "Install New Software"
[ecladdsel]: eclipse/04.png "Select Add"
[ecladdrepo]: eclipse/05.png "Add Repository"
[eclrepoloc]: eclipse/06.png "Name and Location of Repository"
[eclavail]: eclipse/07.png "Available Software"
[eclselsoft]: eclipse/08.png "Select Software"
[eclinstdet]: eclipse/09.png "Install Details"
[ecllic]: eclipse/10.png "Review Licences"
[eclinst]: eclipse/11.png "Installing Software"
[eclwarn]: eclipse/12.png "Security Warning"
[eclrest]: eclipse/13.png "Software Updates"

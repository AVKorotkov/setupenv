## Установка ОС (Debian/GNU Linux) ##

Текущая версия Debian - Wheezy (7.x).

Для установки достаточно скачать образ netinst CD с любого из зеркал
проекта Debian, например, расположенного на Яндексе. Для этого требуется
выбрать нужную архитектуру. Для современных ПК это [amd64][], для
32-разрядных Intel-совместимых процессоров - [i386][]. Последний вариант
годится для установки и на современный ПК (при установке в VirtualBox
рекомендуется воспользоваться именно данным вариантом ввиду более
экономного расходования оперативной памяти). 

[i386]:  http://mirror.yandex.ru/debian-cd/7.8.0/i386/iso-cd/debian-7.8.0-i386-netinst.iso   "i386 netinst CD"
[amd64]: http://mirror.yandex.ru/debian-cd/7.8.0/amd64/iso-cd/debian-7.8.0-amd64-netinst.iso "amd64 netinst CD"

При установке Debian GNU/Linux следует руководствоваться официальной
[документацией][instman] по установке (предоставляется для разных
архитектур и в разных форматах: HTML, PDF, простой текст).

[instman]: https://www.debian.org/releases/stable/installmanual "Руководство по установке Debian GNU/Linux"

При настройке установленной ОС рекомендуется пользоваться официальным
[руководством][dahb] администратора.

[dahb]: http://debian-handbook.info/ "The Debian Administrator's Handbook"

Далее установка Debian рассматривается на примере инсталляции версии для
архитектуры i386 в VirtualBox.

При установке на реальное железо следует внимательно заранее прочитать
указанное выше руководство по установке (в частности, обратив внимание
на пункты 2.2 и 6.4, иначе можно оказаться без Сети во время установки
ОС). Также рекомендуется при наличии на ПК какой-либо установленной ОС
(вообще при необходимости сохранения имеющихся данных на жёстком диске,
на который предполагается ставить Debian) подготовить разделы диска для
установки с помощью [GParted Live][gplive].

[gplive]: http://gparted.org/livecd.php "GParted Live"

### Создание виртуальной машины ###

* Установить (в том числе, Extension Pack) и настроить
  [Oracle Virtualbox][VBox].
* С помощью Мастера создать виртуальную машину для `Debian GNU/Linux`,
	выделив ей виртуальный жёсткий диск объёмом 20 GB и 2 GB оперативной
	памяти.
* Настроить её следующим образом:
	+ Общие.
		- Основные:
		
		  ![][genbas]
		- Дополнительно:
		
		  ![][genadv]
	+ Система.
		- Материнская плата:
		
		  ![][sysmob]
		- Процессор:
		
		  ![][syscpu]
		- Ускорение:
		
		  ![][sysacc]
	+ Дисплей.
		- Видео:
		
		  ![][disvid]
	+ Носители.
		- CD (пример приведён для использования в процессе установки CD,
		  записанного на оптический носитель). Если загрузка
		  инсталляционного CD будет производиться из образа, то необходимо
		  указать здесь не физический привод, а образ инсталляционного CD.
		
		  ![][storcd]
		- HDD:
		
		  ![][storhdd]
	+ Остальные настройки можно не трогать, оставить их по умолчанию.

[VBox]: https://virtualbox.org/wiki/Downloads "Download VirtualBox"
[genbas]: VirtualBox/settings-01.png "Общие | Основные"
[genadv]: VirtualBox/settings-02.png "Общие | Дополнительно"
[sysmob]: VirtualBox/settings-03.png "Система | Материнская плата"
[syscpu]: VirtualBox/settings-04.png "Система | Процессор"
[sysacc]: VirtualBox/settings-05.png "Система | Ускорение"
[disvid]: VirtualBox/settings-06.png "Дисплей | Видео"
[storcd]: VirtualBox/settings-07.png "Носители | CD"
[storhdd]: VirtualBox/settings-16.png "Носители | HDD"

### Установка базовой системы ###

Для установки требуется наличие соединения с Интернет в хостовой
системе.

В `VirtualBox` выбираем виртуальную машину с `Debian` и нажимаем
"Запустить". Появляется installer boot menu выбираем пункт "Advanced options".

![][advopt]

Выбираем "Alternative desktop environments".

![][altde]

Выбираем "Xfce".

![][xfce]

Далее "Back..".

![][back1]

Ещё раз "Back..".

![][back2]

Выбираем "Graphical expert install", после чего попадаем в главное меню
инсталлятора. На каждом этапе установки необходимо будет выбирать
некоторые значения (часто значения по умолчанию вполне подходят) и
нажимать кнопку "Continue" ("Продолжить") или нажимать на клавишу
`Enter`. В некоторых пунктах меню потребуется выполнить более сложные
действия (ввод данных и т.п.).

![][guiexp]

Первым пунктом меню является запрос на выбор языка, на котором
установщик будет выводить элементы меню.

![][chlang]

Выбираем на следующем экране "Russian - Русский".

![][chruss]

Выбираем страну: "Российская Федерация".

![][chcountry]

В качестве региональных настроек (локалей) отмечаем пункт "Российская
Федерация - ru_RU.UTF-8".

![][chlocale]

В качестве дополнительных локалей помечаем "en_US.UTF-8" и "en_US".

![][addloc]

Локалью по умолчанию ставим "ru_RU.UTF-8".

![][defloc]

Настройка синтезатора речи: выбираем продолжить.

![][synconf]

Следующий пункт - настройка клавиатуры.

![][keybconf]

Выбираем "Русская".

![][keybru]

Далее предлагается выбрать способ переключения между русской и латинской
раскладками; отмечаем желаемый вариант (например, правый Control).

![][rctrl]

Следующий пункт - поиск и монтирование CD-ROM.

![][cdfind]

Далее установщик определяет, какие загружаемые модули необходимы для
работы с оборудованием. Соглашаемся с выбором.

![][addmod]

Выводится сообщение, что найден инсталляционный CD-ROM. Нажимаем
"Продолжить".

![][cdfound]

Следующий пункт - загрузка компонентов программы установки с
компакт-диска.

![][cddown]

Выводится список компонентов программы установки, доступных для
загрузки. Можно оставить всё по умолчанию, не выбрав ничего.

![][notreq]

Далее - определение сетевой карты.

![][netcard]

После этого предлагается настроить сеть.

![][netconf]

Выводится запрос на автоматическую настройку сети. Соглашаемся.

![][autonet]

Можно ввести максимальный срок ожидания автоматической настройки.

![][automax]

Предлагается ввести имя компьютера (можно оставить по умолчанию или
выбрать какое-то другое).

![][hostname]

На следующем экране следует ввести имя домена (если дома есть локальная
сеть, то можно ввести то имя, которое используется на других машинах).

![][domname]

Следующий пункт - настройка учётных записей пользователей и паролей.

![][accconf]

На следующем экране поддержки теневых паролей и учётной записи root
следует оставить значения по умолчанию.

![][shroot]

Далее предлагается ввести пароль root (дважды). Не следует использовать
паролей вида `123456` или слово, которое может быть найдено по словарю.
Лучший вариант - использовать пароль, полученный с помощью генератора
псевдослучайных паролей. Пароль нужно запомнить, иначе не удастся
воспользоваться установленной ОС.

![][rootpass]

На запрос о создании учётной записи обычного пользователя следует
ответить утвердительно.

![][useracc]

На следующем экране следует ввести полное имя пользователя.

![][username]

Далее ввести имя учётной записи.

![][accname]

На следующем экране ввести дважды пароль пользователя. Те же
рекомендации по выбору пароля, что и для пользователя root. Не стоит
выбирать одинаковый пароль для root и обычного пользователя.

![][userpass]

Следующий пункт меню - настройка времени.

![][timeconf]

Предлагается настроить часы, используя NTP. Можно согласиться.

![][ntptime]

Адрес NTP сервера можно оставить тот, что предлагается инсталлятором.

![][ntpaddr]

На следующем экране предлагается выбрать часовой пояс. К сожалению,
выбор там небольшой. Можно выбрать пункт "Москва" (в дальнейшем при
настройке системы можно будет внести изменения в настройку часового
пояса).

![][timezone]

Следующий пункт - определение дисков.

![][diskdet]

Далее - разметка дисков.

![][diskconf]

Выбираем "Вручную".

![][mandisk]

Выбор диска: в настройках виртуальной машины был создан единственный
диск, его и выбираем.

![][chdisk]

Создаём пустую таблицу разделов.

![][diskpart]

Выбираем тип таблицы разделов: можно выбрать `msdos` или `gpt`.

![][tabltype]

Выбираем свободное пространство для создания раздела.

![][chfreeswap]

Следующий экран - "Создать новый раздел".

![][newswap]

Выбираем размер раздела.

![][swapsize]

Далее выбираем его тип.

![][swaptype]

На следующме экране - его местоположение.

![][swapplace]

Настраиваем раздел, выбрав "Использовать как".

![][chswap]

Выбираем "Раздел подкачки".

![][swappart]

Завершаем настройку раздела подкачки.

![][swapend]

Выбираем свободное место для создания корневого раздела.

![][chfreeroot]

Создаём новый раздел.

![][newroot]

Выбираем размер раздела.

![][rootsize]

Его тип.

![][roottype]

Местоположение.

![][rootplace]

В настройках раздела можно оставить всё по умолчанию, выбираем
"Настройка раздела закончена".

![][rootend]

Вновь выбираем свободное место для создания раздела.

![][chfreehome]

Создаём новый раздел.

![][newhome]

В меню выбора размера раздела оставляем значение указанное
инсталлятором (раздел будет создан на оставшемся свободном пространстве
диска).

![][homesize]

Выбираем тип раздела.

![][hometype]

В следующем меню оставляем всё выбранным по умолчанию, выбираем
"Настройка раздела закончена".

![][homeend]

Завершение разметки, запись изменений на диск.

![][endpart]

Получаем запрос на запись изменений на диск, отвечаем утвердительно.

![][writeclaim]

Следующий пункт - "Установка базовой системы".

![][baseinst]

После его выбора начинается процесс установки.

![][basepbar]

Далее следует запрос на выбор ядра для установки. Отмечаем указанный
пункт.

![][chkern]

На запрос о выборе драйверов для включения в initrd выбираем "общий".

![][initrd]

Следующий пункт меню - "Настройка менеджера пакетов".

![][aptconf]

Отвечаем "Да" на запрос на использование архива пакетов из Сети.

![][archclaim]

Выбираем протокол для загрузки файлов.

![][chprot]

Отмечаем "Российская Федерация" на запрос выбора страны зеркала архивов.

![][charcount]

Выбираем зеркало архивов.

![][chmirror]

Оставляем пустым поле в настройках прокси, если доступ к Сети
осуществляется без использования прокси.

![][proxyconf]

Отвечаем утвердительно на запрос об использовании несвободного ПО.

![][nfreeclaim]

На следующем экране идёт процесс настройки менеджера пакетов.

![][aptpbar]

Выбираем активируемые сервисы обновлений.

![][repoch]

Следующий пункт меню - "Выбор и установка программного обеспечения".

![][chsoft]

Инсталлятор может предложить некоторые пакеты для поддержки
оборудования. `VirtualBox Guest Additions` поставим позднее, убираем
пометку.

![][guestadd]

Получаем запрос на участие в опросе популярности пакетов, выбираем
ответ.

![][pcontest]

Запрос на кэширование страниц руководства, отвечаем "Нет" (по
умолчанию).

![][setuidman]

Выбор программного обеспечения. Можно отметить указанные пункты или...

![][chdestand]

выбрать только стандартные системные утилиты. Дальнейшее описание
предполагает именно последний вариант (всё остальное необходимое можно
поставить позднее).

![][chstand]

Следующий экран показывает процесс установки программного обеспечения.

![][softpbar]

Установка системного загрузчика GRUB на жёсткий диск.

![][grub]

Получаем запрос на установку GRUB в MBR, отвечаем "Да".

![][grubmbr]

Следующий пункт - "Завершение установки".

![][endinst]

На запрос о выборе показа времени в UTC отвечаем "Нет".

![][utcclaim]

Установка завершена.

![][instdone]

[advopt]: install/01.png "Advanced options"
[altde]: install/02.png "Alternative desktop environments"
[xfce]: install/03.png "Xfce"
[back1]: install/04.png "Back.."
[back2]: install/05.png "Back.."
[guiexp]: install/06.png "Graphical expert install"
[chlang]: install/07.png "Choose language"
[chruss]: install/08.png "Russian - Русский"
[chcountry]: install/09.png "Российская Федерация"
[chlocale]: install/10.png "Российская Федерация - ru_RU.UTF-8"
[addloc]: install/11.png "en_US.UTF-8 & en_US"
[defloc]: install/12.png "ru_RU.UTF-8"
[synconf]: install/13.png "Настройка синтезатора речи"
[keybconf]: install/14.png "Настройка клавиатуры"
[keybru]: install/15.png "Русская"
[rctrl]: install/16.png "правый Control"
[cdfind]: install/17.png "Поиск и монтирование CD-ROM"
[addmod]: install/18.png "usb-storage (USB stirage)"
[cdfound]: install/19.png "Обнаружен CD-ROM"
[cddown]: install/20.png "Загрузка компонентов программы установки с компакт-диска"
[notreq]: install/21.png "Компоненты программы установки, доступные для загрузки"
[netcard]: install/22.png "Определение сетевой карты"
[netconf]: install/23.png "Настройка сети"
[autonet]: install/24.png "Запрос на автоматическую настройку"
[automax]: install/25.png "Максимальный срок ожидания автоматической настройки"
[hostname]: install/26.png "Имя компьютера"
[domname]: install/27.png "Имя домена"
[accconf]: install/28.png "Настройка учётных записей пользователей и паролей"
[shroot]: install/29.png "Настройка теневых паролей и пользователя root"
[rootpass]: install/30.png "Пароль root"
[useracc]: install/31.png "Создание учётной записи обычного пользователя"
[username]: install/32.png "Ввод полного имени пользователя"
[accname]: install/33.png "Имя учётной записи"
[userpass]: install/34.png "Ввод пароля пользователя"
[timeconf]: install/35.png "Настройка времени"
[ntptime]: install/36.png "Настройка часов по NTP"
[ntpaddr]: install/37.png "Адрес NTP сервера"
[timezone]: install/38.png "Выбор часового пояса"
[diskdet]: install/39.png "Определение дисков"
[diskconf]: install/40.png "Разметка дисков"
[mandisk]: install/41.png "Вручную"
[chdisk]: install/42.png "Выбор диска"
[diskpart]: install/43.png "Создание пустой таблицы разделов"
[tabltype]: install/44.png "Выбор типа таблицы разделов"
[chfreeswap]: install/45.png "Выбор свободного пространства для создания раздела"
[newswap]: install/46.png "Создание нового раздела"
[swapsize]: install/47.png "Выбор размера раздела"
[swaptype]: install/48.png "Выбор типа раздела"
[swapplace]: install/49.png "Выбор местоположения раздела"
[chswap]: install/50.png "Настройки раздела | Выбор файловой системы"
[swappart]: install/51.png "Раздел подкачки"
[swapend]: install/52.png "Завершение настройки раздела подкачки"
[chfreeroot]: install/53.png "Выбор свободного пространства для создания раздела"
[newroot]: install/54.png "Создание нового раздела"
[rootsize]: install/55.png "Выбор размера раздела"
[roottype]: install/56.png "Выбор типа раздела"
[rootplace]: install/57.png "Выбор местоположения раздела"
[rootend]: install/58.png "Завершение настройки корневого раздела"
[chfreehome]: install/59.png "Выбор свободного пространства для создания раздела"
[newhome]: install/60.png "Создание нового раздела"
[homesize]: install/61.png "Выбор размера раздела"
[hometype]: install/62.png "Выбор типа раздела"
[homeend]: install/63.png "Завершение настройки домашнего раздела"
[endpart]: install/64.png "Завершение разметки, запись изменений на диск"
[writeclaim]: install/65.png "Запрос на запись изменений на диск"
[baseinst]: install/66.png "Установка базовой системы"
[basepbar]: install/67.png "Процесс установки базовой системы"
[chkern]: install/68.png "Выбор ядра для установки"
[initrd]: install/69.png "Выбор драйверов для включения в initrd"
[aptconf]: install/70.png "Настройка менеджера пакетов"
[archclaim]: install/71.png "Запрос на использование архива пакетов из Сети"
[chprot]: install/72.png "Выбор протокола для загрузки файлов"
[charcount]: install/73.png "Выбор страны зеркала архивов"
[chmirror]: install/74.png "Выбор зеркала архивов"
[proxyconf]: install/75.png "Настройка прокси"
[nfreeclaim]: install/76.png "Запрос на использование несвободного ПО"
[aptpbar]: install/77.png "Процесс настройки менеджера пакетов"
[repoch]: install/78.png "Выбор активируемых сервисов"
[chsoft]: install/79.png "Выбор и установка программного обеспечения"
[guestadd]: install/80.png "Предлагаемые пакеты для установки"
[pcontest]: install/81.png "Запрос на участие в опросе популярности пакетов"
[setuidman]: install/82.png "Запрос на кэширование страниц руководства"
[chdestand]: install/83.png "Выбор программного обеспечения"
[chstand]: install/84.png "Выбор программного обеспечения"
[softpbar]: install/85.png "Установка программного обеспечения"
[grub]: install/86.png "Установка системного загрузчика GRUB на жёсткий диск"
[grubmbr]: install/87.png "Запрос на установку GRUB в MBR"
[endinst]: install/88.png "Завершение установки"
[utcclaim]: install/89.png "Запрос на выбор времени в UTC"
[instdone]: install/90.png "Установка завершена"

### Изменение настроек виртуальной машины ###

После установки базовой системы следует изменить некоторые настройки
виртуальной машины.

* Оставить загрузку только с жёсткого диска:

  ![][sysmobo]

* Заменить в нвстройках Носители инсталляционный CD (или его образ) на
	образ CD VBoxGuestAdditions:

  ![][storage]

[sysmobo]: VirtualBox/settings-13.png "Система | Материнская плата"
[storage]: VirtualBox/settings-14.png "Носители"
